# Мониторинг

Дашборд 'Apart cost app monitoring' предназначен для мониторинга и анализа производительности и работы приложения, предсказывающего стоисомость квартир. Здесь отображается информация о времени обработки запросов, частоте неудачных запросов, прогнозах и других ключевых метриках, необходимых для оценки эффективности работы приложения. Данный дашборд поможет оперативно выявлять проблемы, оптимизировать процессы и обеспечивать стабильную работу приложения.

## Для мониторинга выбраны метрики нескольких уровней:

### Инфраструткурный 
- RAM consumption: `process_virtual_memory_bytes`
<br>Данная метрика позволяет отслеживать объем виртуальной памяти, используемой процессом приложения.
<br>Это важно для контроля за потреблением памяти и выявления утечек памяти.

- Total user and system CPU time spent in seconds: `process_cpu_seconds_total`
<br>Данная метрика отражает общее количество времени, затраченное процессом на выполнение пользовательского и системного кода.
<br>Это позволяет оценить нагрузку на процессор и выявить возможные проблемы с производительностью.

- Resident memory size in bytes: `process_resident_memory_bytes`
<br>Эта метрика отображает размер резидентной памяти, которая фактически используется процессом в оперативной памяти.
<br>Это важно для контроля за использованием оперативной памяти и оптимизации производительности.

### Прикладной
- Number of requests to the service: `http_request_duration_seconds_count`
<br>Данная метрика позволяет отслеживать общее количество запросов к сервису.
<br>Это важно для оценки нагрузки на сервис и планирования ресурсов.

- Total sum of all observed values for the histogram metric: `http_request_duration_seconds_sum`
<br>Эта метрика представляет собой общую сумму времени обработки запросов.
<br>Это позволяет оценить общее время, затраченное на обработку запросов, и выявить возможные узкие места.

- Errors (rate of failed requests): `rate(http_requests_total{status="error"}[1m])`
<br>Эта метрика позволяет вычислить скорость неудачных запросов за последнюю минуту.
<br>Это важно для мониторинга качества обслуживания и оперативного реагирования на проблемы.

### ML-метрики реального времени
- Median predicted value: `quantile(0.5, main_app_predictions_bucket)`
<br>Данная метрика позволяет получить медианное значение прогнозируемых данных.
<br>Это важно для оценки точности прогнозов и анализа распределения данных.

- Histogram of predictions: `main_app_predictions_created`
<br>Эта метрика представляет собой гистограмму прогнозов.
<br>Это важно для визуализации распределения прогнозируемых данных и анализа их разнообразия.


